"0","library(flexdashboard)"
"0","library(tidyverse)"
"0","library(dbplyr)"
"0","library(crosstalk)"
"0","library(flexdashboard)"
"0","library(DT)"
"0","library(htmlwidgets)"
"0","library(glue)"
"0","library(DBI)"
"0","library(lubridate)"
"0",""
"0","options(DT.options = list("
"0","  dom = 'Blfrtip',"
"0","                           buttons = c('copy', 'csv', 'excel', 'pdf', 'print'),"
"0","                           lengthMenu = list(c(10,25,50,-1),"
"0","                                             c(10,25,50,""All"")),"
"0","  autoWidth = TRUE"
"0","                           )"
"0","        )"
"0",""
"0","# connections"
"0","con <- dbConnect(RSQLite::SQLite(), ""../aminga_data.sqlite"")"
"0",""
"0","# data"
"0","df <- tbl(con, ""scoringDailyPT"") %>% "
"0","  dplyr::collect() %>% "
"0","  filter(Sport == params$Sport, YearCode == params$YearCode, Gender == params$Gender) %>% "
"0","  mutate("
"0","    position1 = ifelse(is.na(position1), 0, position1),"
"0","    position2 = ifelse(is.na(position2), 0, position2)"
"0","    ) %>% "
"0","  mutate(score = position1 + position2) %>% "
"0","  dplyr::select(pk_scoring, Name, Sport, YearCode, Gender, ScoringDate, score) %>% "
"0","  mutate(ScoringDate = ymd(ScoringDate))"
"0",""
"0","# close connection"
"0","dbDisconnect(con) "
"0",""
"0","# shared data"
"0","df_shared <- SharedData$new(df)"
